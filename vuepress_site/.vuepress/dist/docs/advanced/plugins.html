<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Plugins | Carolina Documentation</title>
    <meta name="description" content="Documentation for the Carolina web framework.">
    
    
    <link rel="preload" href="/assets/css/styles.1d2d3735.css" as="style"><link rel="preload" href="/assets/js/app.1d2d3735.js" as="script"><link rel="preload" href="/assets/js/8.f67b2fab.js" as="script"><link rel="prefetch" href="/assets/js/1.f05c9cba.js"><link rel="prefetch" href="/assets/js/10.bac22d9b.js"><link rel="prefetch" href="/assets/js/11.3d8fb5fe.js"><link rel="prefetch" href="/assets/js/12.15d64a99.js"><link rel="prefetch" href="/assets/js/13.025e71f2.js"><link rel="prefetch" href="/assets/js/14.fd7a08c1.js"><link rel="prefetch" href="/assets/js/15.e1bc1756.js"><link rel="prefetch" href="/assets/js/16.5770cf46.js"><link rel="prefetch" href="/assets/js/17.853ce496.js"><link rel="prefetch" href="/assets/js/18.971e2150.js"><link rel="prefetch" href="/assets/js/19.c761800c.js"><link rel="prefetch" href="/assets/js/2.988f372d.js"><link rel="prefetch" href="/assets/js/20.4e4bef1c.js"><link rel="prefetch" href="/assets/js/21.b3aaaedf.js"><link rel="prefetch" href="/assets/js/22.1bb76f3c.js"><link rel="prefetch" href="/assets/js/23.3d27ba26.js"><link rel="prefetch" href="/assets/js/24.0bac6e09.js"><link rel="prefetch" href="/assets/js/25.c2b28b9a.js"><link rel="prefetch" href="/assets/js/26.0d288857.js"><link rel="prefetch" href="/assets/js/27.98f9eff3.js"><link rel="prefetch" href="/assets/js/28.26974ced.js"><link rel="prefetch" href="/assets/js/29.6b34c182.js"><link rel="prefetch" href="/assets/js/3.8f49772c.js"><link rel="prefetch" href="/assets/js/30.3e9f8855.js"><link rel="prefetch" href="/assets/js/31.f88a0e4e.js"><link rel="prefetch" href="/assets/js/32.cd87dfeb.js"><link rel="prefetch" href="/assets/js/33.b61fa559.js"><link rel="prefetch" href="/assets/js/34.c116294f.js"><link rel="prefetch" href="/assets/js/35.2f210b65.js"><link rel="prefetch" href="/assets/js/36.cb8e5677.js"><link rel="prefetch" href="/assets/js/37.0de8ac6f.js"><link rel="prefetch" href="/assets/js/38.cb46e1ce.js"><link rel="prefetch" href="/assets/js/39.b4986129.js"><link rel="prefetch" href="/assets/js/4.6855463a.js"><link rel="prefetch" href="/assets/js/40.a060c3fb.js"><link rel="prefetch" href="/assets/js/41.e48da89d.js"><link rel="prefetch" href="/assets/js/42.3cf3cf2d.js"><link rel="prefetch" href="/assets/js/43.74393af5.js"><link rel="prefetch" href="/assets/js/44.9d05ba51.js"><link rel="prefetch" href="/assets/js/5.00dd7cd0.js"><link rel="prefetch" href="/assets/js/6.9ca81a96.js"><link rel="prefetch" href="/assets/js/7.24dcfe4e.js"><link rel="prefetch" href="/assets/js/9.85b5be06.js">
    <link rel="stylesheet" href="/assets/css/styles.1d2d3735.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      Carolina Documentation
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Documentation</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Documentation</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Getting Started</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Framework Overview</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Basics</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Authentication</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Advanced</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/docs/advanced/cli.html" class="sidebar-link">CLI</a></li><li><a href="/docs/advanced/events.html" class="sidebar-link">Events</a></li><li><a href="/docs/advanced/web-sockets.html" class="sidebar-link">Web Sockets</a></li><li><a href="/docs/advanced/files.html" class="sidebar-link">Working with Files</a></li><li><a href="/docs/advanced/email.html" class="sidebar-link">Email</a></li><li><a href="/docs/advanced/plugins.html" class="active sidebar-link">Plugins</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/advanced/plugins.html#installing-plugins" class="sidebar-link">Installing Plugins</a></li><li class="sidebar-sub-header"><a href="/docs/advanced/plugins.html#writing-plugins" class="sidebar-link">Writing Plugins</a></li></ul></li><li><a href="/docs/advanced/jobs.html" class="sidebar-link">Jobs</a></li><li><a href="/docs/advanced/testing.html" class="sidebar-link">Testing</a></li><li><a href="/docs/advanced/requests.html" class="sidebar-link">The Requests Service</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Databases</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Included Plugins</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="plugins"><a href="#plugins" aria-hidden="true" class="header-anchor">#</a> Plugins</h1><p>Plugins are good ways to group functionality together. They can add
functionality to the framework itself, provide templates, routes, or
our public assets, and define Services. There are some plugins that are
official, including some which are installed by default. They are covered
in another section.</p><p>This section covers the generic basics of installing plugins as well as
information about when and how to write your own plugins.</p><p></p><div class="table-of-contents"><ul><li><a href="#installing-plugins">Installing Plugins</a></li><li><a href="#writing-plugins">Writing Plugins</a><ul><li><a href="#plugin-index-file">Plugin Index File</a></li><li><a href="#services">Services</a></li><li><a href="#other-resources">Other Resources</a></li></ul></li></ul></div><p></p><h2 id="installing-plugins"><a href="#installing-plugins" aria-hidden="true" class="header-anchor">#</a> Installing Plugins</h2><p>A few plugins are automatically installed and configured in the starter
project. They are listed by &quot;require&quot; path in the <code>plugins</code> property in
<code>config/app.js</code>.</p><p>These are the steps to take for installed additional plugins
(but plugins should define specific guidance):</p><p><strong>Step 1: List in <code>config/app.js</code></strong></p><p>To install a plugin, list it under the array <code>plugins</code> in <code>config/app.js</code>.
List a plugin by the import path to a file that exports the plugin info,
which each plugin should document. It should either be to a module in
<code>node_modules</code> or a relative path from the root of your project
directory.</p><p><strong>Step 2: Import Files</strong></p><p>Some plugins define files to be copied into your project directory (such as
a config file, static assets, templates, etc). Once you have listed a new
plugin in your <code>config/app.js</code> file, you should copy any files it has.</p><div class="language- extra-class"><pre class="language-text"><code>node . import-plugin-resources -p PLUGIN -crstf
</code></pre></div><p>This will copy the files over. Before running this, you should consult the
plugin's documentation to see what files will be copied. Any existing files
will be overwritten.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Once a plugin is installed, if it is updated you can use the above command
to import any changes to those copied files. However, the you may not want to
overwrite the config file. To copy over file except for the plugin config file,
run <code>node . import-plugin-resources -p PLUGIN -rstf</code>.</p></div><p><strong>Step 3: Register Service(s)</strong></p><p>Some plugins define Services that can be added to the Carolina global object,
and sometimes this may be required for the plugin to work.
Add any such Services to the <code>services</code> object in <code>config/app.js</code> as instructed
in the plugin documentation.</p><p><strong>Step 4: Mount Plugin Router</strong></p><p>Some plugins export a router, which you can add to your site's routing
configuration. For example, an admin plugin might be mountable at any
prefix, but preferably at <code>/admin</code> or something like that.
Consult the plugin documentation.</p><h2 id="writing-plugins"><a href="#writing-plugins" aria-hidden="true" class="header-anchor">#</a> Writing Plugins</h2><p>A plugin is a group of code that interacts with the Carolina framework and
may provide additional service objects (like Models, Middleware, or Event
classes), a new Service, extra templates, public assets, and/or
&quot;mountable&quot; sub-routers. It is best if a plugin could easily be added to
any Carolina project. An example of a plugin might be the entirety of all files
related to the blog section of a site, or a supplemental library of objects
for use by Carolina services (such as a File Driver for Google Drive, a
Mailer class for GMail, and maybe a logger that adds notes to Google Keep).</p><p><strong>Some Considerations</strong></p><p>Your plugin may contain Services or Service objects/classes that will be
referenced by the Carolina framework by name. It is important to avoid name
collisions, especially if you are writing a plugin for use in multiple projects.
It is recommended that you use the NPM name of the package containing
the plugin as a baseline. For example, if your plugin's NPM name was
&quot;MyPluginName&quot;, a custom User Model might be named &quot;MyPluginName/User&quot;.
There is nothing wrong with using slashes like this and that is encouraged
for re-useable plugins. If you are exposing only one service, you could
name it &quot;MyPluginName&quot;. If you are exposing multiple services, you should
name it something like &quot;MyPluginName/Service1&quot;.</p><p>The structure of a plugin is like this:</p><div class="language- extra-class"><pre class="language-text"><code>plugin_dir/
  config/                 # directory for config file
    my_plugin_name.js     # config file for plugin, to be copied into project
  plugin/                 # mimics the site directory of the carolina project
  services/               # place for services
    my-custom-service.js  # a service
  src/                    # source files, to be copied into project
  templates/              # templates, to be copied into project
  index.js                # plugin details, required
  router.js               # a router file
</code></pre></div><h3 id="plugin-index-file"><a href="#plugin-index-file" aria-hidden="true" class="header-anchor">#</a> Plugin Index File</h3><p>The main <code>index.js</code> of the plugin should look like this:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// user friendly name of plugin</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>pluginName <span class="token operator">=</span> <span class="token string">&quot;My Plugin&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// plugin root</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>pluginPath <span class="token operator">=</span> __dirname<span class="token punctuation">;</span>

<span class="token comment">// types of files exported by app</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>exportConfigFile <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>exportPrivateFiles <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>exportSrcFiles <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>exportStaticFiles <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>exportTemplates <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Where files are copied into projects
 */</span>

<span class="token comment">// name of output config file (relative to config/)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>outputConfigFile <span class="token operator">=</span> <span class="token string">'plugin_name.js'</span><span class="token punctuation">;</span>
<span class="token comment">// required export name of output config</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>outputConfigExportName <span class="token operator">=</span> <span class="token string">&quot;plugin_name&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// location of output private files (relative to storage/)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>outputPrivateFilesDir <span class="token operator">=</span> <span class="token string">'plugin_name'</span><span class="token punctuation">;</span>
<span class="token comment">// location of output src files (relative to src/)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>outputSrcFilesDir <span class="token operator">=</span> <span class="token string">'plugin_name/'</span><span class="token punctuation">;</span>
<span class="token comment">// location of output static files (relative to public/)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>outputStaticFilesDir <span class="token operator">=</span> <span class="token string">'static/plugin_name/'</span><span class="token punctuation">;</span>
<span class="token comment">// location of output templates (relative to templates)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>outputTemplatesDir <span class="token operator">=</span> <span class="token string">'plugin_name'</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Where files are in the plugin directory that are to be copied out
 */</span> 

<span class="token comment">// location of config file to copy over</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>localConfigFile <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'config'</span><span class="token punctuation">,</span> <span class="token string">'plugin_name.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// location of private files to copy over</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>localPrivateFilesDir <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'private'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// location of static files to copy over</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>localSrcFilesDir <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// location of static files to copy over</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>localStaticFilesDir <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'static'</span><span class="token punctuation">,</span> <span class="token string">'plugin-name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// location of templates to copy over</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>localTemplatesDir <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'templates'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// required services under required name and import path</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>requiredServices <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">'MyPluginName/MyCustomService'</span><span class="token punctuation">:</span> <span class="token string">'package_root/services/my-custom-service'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="services"><a href="#services" aria-hidden="true" class="header-anchor">#</a> Services</h3><p>A plugin can expose any number of Services if you want it to. It is recommended
to expose only one Serivce if possible.</p><p>Here is an example:</p><p>Define a service in <code>&lt;plugin_root&gt;/services/my-custom-service.js</code>:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* global Carolina */</span>

<span class="token comment">// extends BaseService</span>
<span class="token keyword">const</span> BaseService <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'carolina/services/base-service'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * MyCustomService
 * Does stuff.
 */</span>
<span class="token keyword">class</span> <span class="token class-name">MyCustomService</span> <span class="token keyword">extends</span> <span class="token class-name">BaseService</span> <span class="token punctuation">{</span>
  
  <span class="token comment">// call super constructor with Service Name</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">&quot;MyPluginName/MyCustomService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// define custom methods here</span>
  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token function">onShutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// put things to do upon application shutdown here</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

exports <span class="token operator">=</span> module<span class="token punctuation">.</span>exports <span class="token operator">=</span> MyCustomService<span class="token punctuation">;</span>
</code></pre></div><p>In your documentation, you should tell your users how they need to reference
this service in the <code>services</code> object of <code>config/app.js</code>.</p><p>If you were exposing this Service, the <code>services</code> object should contain a line
like this:</p><div class="language- extra-class"><pre class="language-text"><code>  'MyPluginName/MyCustomService': 'my-plugin-name/services/my-custom--service'
</code></pre></div><p>This would allow an application that uses your plugin to do this anywhere
in their code:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> MyCustomService <span class="token operator">=</span> Carolina<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'MyPluginName/MyCustomService'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> sum <span class="token operator">=</span> MyCustomService<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 3</span>
</code></pre></div><h3 id="other-resources"><a href="#other-resources" aria-hidden="true" class="header-anchor">#</a> Other Resources</h3><p>Aside from Services, there are two types of things that might be in a plugin:</p><ul><li>Files that will be copied into the project directory somewhere.</li><li>Services objects/classes, such as those defined in the projects <code>site/</code> directory.</li></ul><h4 id="configuration"><a href="#configuration" aria-hidden="true" class="header-anchor">#</a> Configuration</h4><p>Your plugin can and probably should specify 1 configuration file, which will
be copied into the <code>config/</code> directory of a project that uses the plugin. It
should be named the same or something similar to the plugin NPM name. It can
be helpful to use underscores instead of dashes if you want.</p><p>If your plugin is providing a config file, in the <code>index.js</code> of the plugin
you should define <code>exportConfigFile</code> as <code>true</code>, <code>outputConfigFile</code> as
the name of the file to create (ie, <code>&quot;my_plugin_name.js&quot;</code>),
<code>outputConfigExportName</code> as the name by which the file should be exported by
a project's <code>config/index.js</code> file (ie, <code>'my_plugin_name'</code>), and
<code>localConfigFile</code> as the full path the configuration file in the plugin.</p><p>A configuration file should expose an object and a user of your plugin can
edit. It is the main way to provide options to plugin users for controlling
the behavior of the plugin.</p><p>Once a user has installed the plugin and imported its resources using the
<code>import-plugin-resources</code> command, they will need to expose it from
<code>config/index.js</code>. The output of the <code>import-plugin-resources</code> command
will indicate this, instructing them to export the config file based on its
name. If you config file is called <code>my_plugin_name.js</code>, it should
be exported like this in <code>config/index.js</code>:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code>  my_plugin_name<span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./my_plugin_name'</span><span class="token punctuation">)</span>
</code></pre></div><p>This means that anywhere in your plugin or an application using it, a
config value from the object exported by the config file can be accessed
like this:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> someConfigValue <span class="token operator">=</span> Carolina<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token string">'my_plugin_name.some_attr'</span><span class="token punctuation">,</span> <span class="token string">'defaultValue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In your plugin files, you should always provide a sane default when accessing
configuration values in case a
user neglects to provide a custom value.</p><p>The configuration file is copied from a plugin to a site with the command:
<code>node . import-plugin-resources -p PLUGIN -c</code>.</p><h4 id="router"><a href="#router" aria-hidden="true" class="header-anchor">#</a> Router</h4><p>You could provide a router file that exports a list of route objects
(exactly as you would have in <code>site/http/routes/</code>). If you do define a router
(recommended as <code>plugin_dir/router.js</code>), you should document considerations
for mounting it. You should try to write everything such that a site could mount
it anywhere.</p><p>The starter project mounts the router of the Admin plugin this way
(in <code>site/http/routes/browser.js</code>):</p><div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token punctuation">{</span> route<span class="token punctuation">:</span> <span class="token string">'/admin'</span><span class="token punctuation">,</span> subs<span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'carolina/plugins/admin/router'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>Since the admin router defines a route at '/', it will be accessed in the main
site at <code>/admin/</code>.</p><h4 id="service-objects"><a href="#service-objects" aria-hidden="true" class="header-anchor">#</a> Service Objects</h4><p>Many Carolina Services look for certain class definitions in a projects <code>site/</code>
directory, but they will also check the <code>plugin/</code> directory of all installed
plugins.</p><p>For example, the DB Service will check for Model classes
in <code>site/db/models/index.js</code>
(or <code>site/db/model.js</code>), and it will also check in
<code>&lt;plugin_dir&gt;/db/models/index.js</code> (or <code>&lt;plugin_dir&gt;/db/model.js</code>). This happens
automatically, and all you have to do is define those objects and export them
just as you would in the <code>site/</code> directory.</p><h4 id="template-files"><a href="#template-files" aria-hidden="true" class="header-anchor">#</a> Template Files</h4><p>Your plugin may need to define templates, either for use by plugin Controllers
or simply as a feature of your plugin.
These templates will need to be copied into the application's <code>templates/</code>
directory. You will want to avoid name conflict in the <code>templates/</code> directory
so you should have your templates be copied into
<code>templates/&lt;vendor_name&gt;/&lt;plugin_name&gt;/</code>.
You should define <code>.pug</code> and other
templates (such as nunjucks templates for e-mails) in <code>&lt;plugin_dir&gt;/templates/</code>.</p><p>To have a plugin set up for exporting templates, in your plugin's <code>index.js</code>
file, set <code>exportTemplates</code> to <code>true</code>, <code>outputTemplatesDir</code> to the name
of the directory relative to a projects <code>templates/</code> dir that you want your
templates to be copied into, and <code>localTemplatesDir</code> to the full path of
the directory where templates to be copied over reside.</p><p>Template files are copied from a plugin to a project with the command:
<code>node . import-plugin-resources -p PLUGIN -t</code>.</p><h4 id="public-or-private-assets-and-frontend-source-files"><a href="#public-or-private-assets-and-frontend-source-files" aria-hidden="true" class="header-anchor">#</a> Public or Private Assets and Frontend Source Files</h4><p>Your plugin may need to have public assets and frontend source files copied over
into a projects <code>public/</code> directory and <code>src/</code> directory. Follow the same
practices as above for templates.</p><p>Public assets (&quot;static files&quot;) are copied from a plugin to a project with the
command:
<code>node . import-plugin-resources -p PLUGIN -s</code>.</p><p>Private files are copied from a plugin to a project's <code>storage/</code> dir with the
command:
<code>node . import-plugin-resources -p PLUGIN -f</code>.</p><p>Source files are copied from a plugin to a project's <code>src/</code> dir with the
command:
<code>node . import-plugin-resources -p PLUGIN -r</code>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you use the template <code>index.js</code> above, you do not need to worry about local
private files not existing if you dont need to export them. Simply set the
export boolean values to <code>false</code> for any type of file that your plugin
does not export.</p></div></div><div class="page-edit"><!----><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/docs/advanced/email.html" class="prev">
          Email
        </a></span><span class="next"><a href="/docs/advanced/jobs.html">
          Jobs
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/app.1d2d3735.js" defer></script><script src="/assets/js/8.f67b2fab.js" defer></script>
  </body>
</html>
