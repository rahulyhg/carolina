<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Pug Templates | Carolina Documentation</title>
    <meta name="description" content="Documentation for the Carolina web framework.">
    
    
    <link rel="preload" href="/assets/css/styles.7c31eed0.css" as="style"><link rel="preload" href="/assets/js/app.7c31eed0.js" as="script"><link rel="preload" href="/assets/js/20.0ed017ce.js" as="script"><link rel="prefetch" href="/assets/js/1.fcb353f5.js"><link rel="prefetch" href="/assets/js/10.20490b3a.js"><link rel="prefetch" href="/assets/js/11.9b580678.js"><link rel="prefetch" href="/assets/js/12.5fefd523.js"><link rel="prefetch" href="/assets/js/13.39c744cf.js"><link rel="prefetch" href="/assets/js/14.ea7d8be9.js"><link rel="prefetch" href="/assets/js/15.c64fa988.js"><link rel="prefetch" href="/assets/js/16.713cd274.js"><link rel="prefetch" href="/assets/js/17.2322935d.js"><link rel="prefetch" href="/assets/js/18.f9b9c28c.js"><link rel="prefetch" href="/assets/js/19.3996dea9.js"><link rel="prefetch" href="/assets/js/2.7341054b.js"><link rel="prefetch" href="/assets/js/21.03e06658.js"><link rel="prefetch" href="/assets/js/22.65de5fe7.js"><link rel="prefetch" href="/assets/js/23.902995b5.js"><link rel="prefetch" href="/assets/js/24.243cf937.js"><link rel="prefetch" href="/assets/js/25.ef510e66.js"><link rel="prefetch" href="/assets/js/26.3dde74af.js"><link rel="prefetch" href="/assets/js/27.23a28020.js"><link rel="prefetch" href="/assets/js/28.3fbe4abc.js"><link rel="prefetch" href="/assets/js/29.bd5ece8b.js"><link rel="prefetch" href="/assets/js/3.6fb1d80f.js"><link rel="prefetch" href="/assets/js/30.349f7c13.js"><link rel="prefetch" href="/assets/js/31.9c5f7ff2.js"><link rel="prefetch" href="/assets/js/32.aeab2406.js"><link rel="prefetch" href="/assets/js/33.52f19e08.js"><link rel="prefetch" href="/assets/js/34.0e39768e.js"><link rel="prefetch" href="/assets/js/35.d8c674c0.js"><link rel="prefetch" href="/assets/js/36.b91b4bc8.js"><link rel="prefetch" href="/assets/js/37.db29dd9c.js"><link rel="prefetch" href="/assets/js/38.cc63f999.js"><link rel="prefetch" href="/assets/js/39.0ea182c5.js"><link rel="prefetch" href="/assets/js/4.daa5d832.js"><link rel="prefetch" href="/assets/js/40.c432dc4d.js"><link rel="prefetch" href="/assets/js/41.f7a29698.js"><link rel="prefetch" href="/assets/js/42.3b4aaf48.js"><link rel="prefetch" href="/assets/js/43.efb4c989.js"><link rel="prefetch" href="/assets/js/44.7ed77dea.js"><link rel="prefetch" href="/assets/js/45.5cf5c88e.js"><link rel="prefetch" href="/assets/js/46.daeb2ff8.js"><link rel="prefetch" href="/assets/js/47.faeda339.js"><link rel="prefetch" href="/assets/js/48.d3d2319e.js"><link rel="prefetch" href="/assets/js/5.d8ad5073.js"><link rel="prefetch" href="/assets/js/6.7fc4b4fa.js"><link rel="prefetch" href="/assets/js/7.94937768.js"><link rel="prefetch" href="/assets/js/8.8348ab52.js"><link rel="prefetch" href="/assets/js/9.8afb266f.js">
    <link rel="stylesheet" href="/assets/css/styles.7c31eed0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      Carolina Documentation
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Documentation</a></div><div class="nav-item"><a href="/tutorials/" class="nav-link">Tutorial</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Documentation</a></div><div class="nav-item"><a href="/tutorials/" class="nav-link">Tutorial</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Getting Started</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Framework Overview</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Basics</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/docs/basics/routing.html" class="sidebar-link">Routing</a></li><li><a href="/docs/basics/middleware.html" class="sidebar-link">Middleware</a></li><li><a href="/docs/basics/csrf.html" class="sidebar-link">CSRF Tokens </a></li><li><a href="/docs/basics/controllers.html" class="sidebar-link">Controller Classes</a></li><li><a href="/docs/basics/requests.html" class="sidebar-link">HTTP Request Objects</a></li><li><a href="/docs/basics/responses.html" class="sidebar-link">HTTP Response Objects</a></li><li><a href="/docs/basics/template-views.html" class="sidebar-link">Template Views</a></li><li><a href="/docs/basics/session.html" class="sidebar-link">Session</a></li><li><a href="/docs/basics/validation.html" class="sidebar-link">Validation</a></li><li><a href="/docs/basics/errors.html" class="sidebar-link">Exceptions</a></li><li><a href="/docs/basics/logging.html" class="sidebar-link">Logging</a></li><li><a href="/docs/basics/pug.html" class="active sidebar-link">Pug Templates</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/basics/pug.html#layouts-inheritance" class="sidebar-link">Layouts &amp; Inheritance</a></li><li class="sidebar-sub-header"><a href="/docs/basics/pug.html#pug-mixins" class="sidebar-link">Pug Mixins</a></li><li class="sidebar-sub-header"><a href="/docs/basics/pug.html#data" class="sidebar-link">Data</a></li><li class="sidebar-sub-header"><a href="/docs/basics/pug.html#pug-docs" class="sidebar-link">Pug Docs</a></li><li class="sidebar-sub-header"><a href="/docs/basics/pug.html#included-mixins" class="sidebar-link">Included Mixins</a></li><li class="sidebar-sub-header"><a href="/docs/basics/pug.html#local-variables" class="sidebar-link">Local Variables</a></li></ul></li><li><a href="/docs/basics/crypto.html" class="sidebar-link">The Crypto Service</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Authentication</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Advanced</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Databases</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Included Plugins</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="pug-templates"><a href="#pug-templates" aria-hidden="true" class="header-anchor">#</a> Pug Templates</h1><p>The Carolina framework uses <a href="https://www.npmjs.com/package/pug" target="_blank" rel="noopener noreferrer">Pug<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for
templates. Pug templates exist in the <code>templates/</code> directory of your project
and end with the <code>.pug</code> extension (this is important, as non-pug templates
also hang out in the <code>templates/</code> directory).</p><p>The <code>templates/carolina/</code> directory includes templates in use by the main
Carolina framework as well as some official plugins, so you should leave
these templates alone.</p><h2 id="layouts-inheritance"><a href="#layouts-inheritance" aria-hidden="true" class="header-anchor">#</a> Layouts &amp; Inheritance</h2><h3 id="pug-layouts"><a href="#pug-layouts" aria-hidden="true" class="header-anchor">#</a> Pug Layouts</h3><p>One way to use pug templates is to define some templates to use as
layouts that will be extended by other templates. This is often called
<em>template inheritance</em>. You don't have to use template inheritance,
but it can be helpful to define general layouts and other, more
specific templates that extend those layouts.</p><p>Here is an example of a template designed to be used as a layout:</p><div class="language-pug extra-class"><pre class="language-pug"><code><span class="token doctype">doctype html</span>
<span class="token tag">html</span>
  <span class="token tag">head</span>
   <span class="token tag">title</span> <span class="token plain-text">My Carolina App - #{title}</span>
  <span class="token tag">body</span>
    <span class="token keyword">block sidebar</span>
      <span class="token tag">div</span> <span class="token plain-text">This is the default sidebar.</span>
    <span class="token keyword">block content</span>
      <span class="token tag">div</span> <span class="token plain-text">This is the default content.</span>
    
    <span class="token tag">p</span> <span class="token plain-text">This is a footer paragraph for all pages.</span>
</code></pre></div><p>The above template defines two &quot;blocks&quot;, which inheriting templates can
override and fill in. The blocks even have some default content.
This is a perfectly valid template on its own, and could be use from
a Controller like this (assume template is
defined in <code>templates/layouts/my_layout.pug</code>):</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pugTemplate</span><span class="token punctuation">(</span><span class="token string">'layouts/my_layout'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">&quot;Page Title&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    request<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="extending-layouts"><a href="#extending-layouts" aria-hidden="true" class="header-anchor">#</a> Extending Layouts</h3><p>You could extend the above layout with a child template, overriding the
provided blocks. Here as an example, assumed to be defined in
<code>templates/my_child_template.pug</code>:</p><div class="language-pug extra-class"><pre class="language-pug"><code><span class="token keyword">extends ./layouts/my_layout</span>

<span class="token keyword">block append sidebar</span>
  <span class="token tag">p</span> <span class="token plain-text">This is added to the existing sidebar.</span>
<span class="token keyword">block content</span>
  <span class="token tag">p</span> <span class="token plain-text">This overrides the existing content.</span>
</code></pre></div><p>Here we fill in the blocks of the other layout. The &quot;sidebar&quot; has our own
specific content <em>appended</em> (added to) the existing default content and
the &quot;content&quot; block is overriden completely with new content.</p><p>You can use this template the same way you used its parent, in a Controller
method:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pugTemplate</span><span class="token punctuation">(</span><span class="token string">'my_child_template'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">&quot;Page Title&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    request<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="pug-mixins"><a href="#pug-mixins" aria-hidden="true" class="header-anchor">#</a> Pug Mixins</h2><p>Pug allows the use of <em>mixins</em>, which are reusable components that can be
used multiple time with different parameters.</p><p>An example mixin:</p><div class="language-pug extra-class"><pre class="language-pug"><code><span class="token comment">//- defining the mixin</span>
<span class="token mixin"><span class="token keyword">mixin</span> <span class="token function">greeting</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span></span>
  <span class="token tag">p</span> <span class="token plain-text">Hello, #{name}</span>

<span class="token comment">//- using the mixin</span>
<span class="token tag">div</span>
  <span class="token mixin"><span class="token name function">+greeting</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span></span>
  <span class="token tag">p</span> <span class="token plain-text">Thank you for stopping by.</span>
</code></pre></div><p>The above would result in the following HTML:</p><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Hello, Jack<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Thank you for stopping by.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>It is common to define mixins in separate files that only declare mixins
for ease of use. Mixins can even include a block. Here is an example,
suppose it is defined in <code>templates/mixins/alert.pug</code>:</p><div class="language-pug extra-class"><pre class="language-pug"><code><span class="token mixin"><span class="token keyword">mixin</span> <span class="token function">alert</span><span class="token punctuation">(</span>severity<span class="token punctuation">)</span></span>
  <span class="token tag">div<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">class</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">&quot;alert alert-&quot;</span> <span class="token operator">+</span> severity</span><span class="token punctuation">)</span></span></span>
    <span class="token tag">block</span>
</code></pre></div><p>This defines a component that takes a severity as an argument (which will
be added to the result div's class) and provides a block for content.
You could then use it in your main file like this:</p><div class="language-pug extra-class"><pre class="language-pug"><code><span class="token keyword">extends ./layouts/my_layout</span>

<span class="token comment">//- import the mixin</span>
<span class="token keyword">include ./mixins/alert</span>

<span class="token keyword">block append sidebar</span>
  <span class="token tag">p</span> <span class="token plain-text">This is added to the existing sidebar.</span>
<span class="token keyword">block content</span>
  <span class="token mixin"><span class="token name function">+alert</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span></span>
    <span class="token tag">b</span> <span class="token plain-text">Yay!</span>
    <span class="token punctuation">|</span>  This is great<span class="token punctuation">.</span>
</code></pre></div><p>The above would result in the following HTML for the content block:</p><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>alert alert-success<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>Yay!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> This is great.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="data"><a href="#data" aria-hidden="true" class="header-anchor">#</a> Data</h2><p>Note the way to render a template from a Controller:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pugTemplate</span><span class="token punctuation">(</span><span class="token string">'template_name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'Title'</span><span class="token punctuation">,</span> foo<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
    txt<span class="token punctuation">:</span> <span class="token string">&quot;A full sentence.&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The async method <code>pugTemplate</code> takes an object as the second argument. This
data is provided and made available to the pug template (along with
some other values automatically given to the template, more on this later).</p><p>For example, the above snippet passes a <code>title</code> and a <code>foo</code> property. These
values are accessible (either directly by name) or via the accessor <code>locals</code>:</p><div class="language-pug extra-class"><pre class="language-pug"><code><span class="token tag">div</span>
  <span class="token tag">h1</span> <span class="token plain-text">My App - #{title}</span>
  <span class="token tag">p</span> <span class="token plain-text">The value of foo is #{locals.foo}.</span>
  <span class="token tag">p</span><span class="token punctuation">=</span><span class="token code"> locals<span class="token punctuation">.</span>txt</span>
</code></pre></div><p>The above, if rendered with the earlier snippet, results in:</p><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>My App - Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The value of foo is bar.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>A full sentence.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>Literal HTML</strong></p><p>Suppose you want to generate some HTML on server. This can be a little risky,
and HTML is automatically escaped by pug.</p><p>Suppose you have a template like this:</p><div class="language-pug extra-class"><pre class="language-pug"><code><span class="token tag">p</span><span class="token punctuation">=</span><span class="token code"> literalHtml</span>
</code></pre></div><p>And you render it like this:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pugTemplate</span><span class="token punctuation">(</span><span class="token string">'template_name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> literalHtml<span class="token punctuation">:</span> <span class="token string">&quot;&lt;b&gt;Bold&lt;/b&gt;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The above would render this:</p><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token entity" title="<">&amp;lt;</span>b<span class="token entity" title=">">&amp;gt;</span>Bold<span class="token entity" title="<">&amp;lt;</span>/b<span class="token entity" title=">">&amp;gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>If you actually want the HTML to go in unescaped, change the template to look
like this:</p><div class="language-pug extra-class"><pre class="language-pug"><code><span class="token tag">p</span><span class="token punctuation">!=</span><span class="token code"> literalHtml</span>
</code></pre></div><p>That change alters the output to this:</p><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>Bold<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>You may want to take steps to ensure that whatever value you are sending the
template is valid and safe HTML. Failure to do so may result it bugs or errors.</p></div><h2 id="pug-docs"><a href="#pug-docs" aria-hidden="true" class="header-anchor">#</a> Pug Docs</h2><p>For more details on the usage of pug templates, consult
the <a href="https://pugjs.org/api/getting-started.html" target="_blank" rel="noopener noreferrer">Pugjs website<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. The sections
on conditionals and iteration can be very helpful.</p><h2 id="included-mixins"><a href="#included-mixins" aria-hidden="true" class="header-anchor">#</a> Included Mixins</h2><p>The Carolina framework starter project
includes a few mixins in the <code>templates/carolina/</code> directory
that you can use in your
templates.</p><h3 id="csrf-token"><a href="#csrf-token" aria-hidden="true" class="header-anchor">#</a> CSRF Token</h3><p>A CSRF token is often required for non-GET methods to many endpoints.
More information on how this works can be found in the section
on <a href="/docs/basics/csrf.html">CSRF Tokens</a>.</p><p>The file <code>templates/carolina/http/mixins.pug</code> includes two helpful mixins.
Both require that the request is passed in as the third argument to
the <code>pugTemplate()</code> Controller method used to render the template.</p><p>One mixin, <code>csrfToken</code> takes the request and renders a hidden form input
with the name &quot;csrf_token&quot; and a value of the actual token.</p><div class="language-pug extra-class"><pre class="language-pug"><code><span class="token keyword">include /carolina/http/mixins</span>

<span class="token tag">form<span class="token attributes"><span class="token punctuation">(</span><span class="token attr-name">method</span><span class="token punctuation">=</span><span class="token attr-value"><span class="token string">&quot;POST&quot;</span></span><span class="token punctuation">)</span></span></span>
  <span class="token mixin"><span class="token name function">+csrfToken</span><span class="token punctuation">(</span>locals<span class="token punctuation">.</span>request<span class="token punctuation">)</span></span>
</code></pre></div><p>The output:</p><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>csrf_token<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>abcdef123<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>The value will be the actual CSRF token for the session. This form will
allow POST requests to pass CSRf protection.</p><p>If you wish to store the CSRT token in a meta tag, you can use the
<code>csrfTokenMetaTag</code> mixin:</p><div class="language-pug extra-class"><pre class="language-pug"><code><span class="token keyword">include /carolina/http/mixins</span>
<span class="token tag">head</span>
  <span class="token mixin"><span class="token name function">+csrfTokenMetaTag</span><span class="token punctuation">(</span>locals<span class="token punctuation">.</span>request<span class="token punctuation">)</span></span>
</code></pre></div><p>Output:</p><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>csrf_token<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>abcdef123<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="flash-messages"><a href="#flash-messages" aria-hidden="true" class="header-anchor">#</a> Flash Messages</h3><p>You can also render flash messages using the <code>flashMessages</code> mixin defined
in <code>templates/carolina/session/mixins.pug</code>.</p><div class="language-pug extra-class"><pre class="language-pug"><code><span class="token tag">div</span>
  <span class="token mixin"><span class="token name function">+flashMessage</span><span class="token punctuation">(</span>locals<span class="token punctuation">.</span>request<span class="token punctuation">)</span></span>
</code></pre></div><p>This will render any flash messages that are attached the session.
More information on flash messages can be found in the introduction to
<a href="/docs/basics/session.html">sessions</a>.</p><h2 id="local-variables"><a href="#local-variables" aria-hidden="true" class="header-anchor">#</a> Local Variables</h2><p>The Controller method <code>pugTemplate</code> will add some values to the passed data
object before passing it to the template for rendering. You should avoid
using such keys in your object as they will be overriden:</p><ul><li><code>config</code>: The application configuration, as exported by <code>config/index.js</code>.</li><li><code>filename</code>: The file name of the template being rendered.</li><li><code>basedir</code>: The path to the <code>templates/</code> directory.</li><li><code>cache</code>: A boolean set to <code>true</code>. This is helpful for pug.</li><li><code>request</code>: The <a href="/docs/basics/requests.html">HttpRequest</a> object, if provided as the third argument to <code>pugTemplate</code>.</li></ul></div><div class="page-edit"><!----><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/docs/basics/logging.html" class="prev">
          Logging
        </a></span><span class="next"><a href="/docs/basics/crypto.html">
          The Crypto Service
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/app.7c31eed0.js" defer></script><script src="/assets/js/20.0ed017ce.js" defer></script>
  </body>
</html>
