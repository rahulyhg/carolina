<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Framework Services &amp; Class Libraries | Carolina Documentation</title>
    <meta name="description" content="Documentation for the Carolina web framework.">
    
    
    <link rel="preload" href="/assets/css/styles.1d2d3735.css" as="style"><link rel="preload" href="/assets/js/app.1d2d3735.js" as="script"><link rel="preload" href="/assets/js/39.b4986129.js" as="script"><link rel="prefetch" href="/assets/js/1.f05c9cba.js"><link rel="prefetch" href="/assets/js/10.bac22d9b.js"><link rel="prefetch" href="/assets/js/11.3d8fb5fe.js"><link rel="prefetch" href="/assets/js/12.15d64a99.js"><link rel="prefetch" href="/assets/js/13.025e71f2.js"><link rel="prefetch" href="/assets/js/14.fd7a08c1.js"><link rel="prefetch" href="/assets/js/15.e1bc1756.js"><link rel="prefetch" href="/assets/js/16.5770cf46.js"><link rel="prefetch" href="/assets/js/17.853ce496.js"><link rel="prefetch" href="/assets/js/18.971e2150.js"><link rel="prefetch" href="/assets/js/19.c761800c.js"><link rel="prefetch" href="/assets/js/2.988f372d.js"><link rel="prefetch" href="/assets/js/20.4e4bef1c.js"><link rel="prefetch" href="/assets/js/21.b3aaaedf.js"><link rel="prefetch" href="/assets/js/22.1bb76f3c.js"><link rel="prefetch" href="/assets/js/23.3d27ba26.js"><link rel="prefetch" href="/assets/js/24.0bac6e09.js"><link rel="prefetch" href="/assets/js/25.c2b28b9a.js"><link rel="prefetch" href="/assets/js/26.0d288857.js"><link rel="prefetch" href="/assets/js/27.98f9eff3.js"><link rel="prefetch" href="/assets/js/28.26974ced.js"><link rel="prefetch" href="/assets/js/29.6b34c182.js"><link rel="prefetch" href="/assets/js/3.8f49772c.js"><link rel="prefetch" href="/assets/js/30.3e9f8855.js"><link rel="prefetch" href="/assets/js/31.f88a0e4e.js"><link rel="prefetch" href="/assets/js/32.cd87dfeb.js"><link rel="prefetch" href="/assets/js/33.b61fa559.js"><link rel="prefetch" href="/assets/js/34.c116294f.js"><link rel="prefetch" href="/assets/js/35.2f210b65.js"><link rel="prefetch" href="/assets/js/36.cb8e5677.js"><link rel="prefetch" href="/assets/js/37.0de8ac6f.js"><link rel="prefetch" href="/assets/js/38.cb46e1ce.js"><link rel="prefetch" href="/assets/js/4.6855463a.js"><link rel="prefetch" href="/assets/js/40.a060c3fb.js"><link rel="prefetch" href="/assets/js/41.e48da89d.js"><link rel="prefetch" href="/assets/js/42.3cf3cf2d.js"><link rel="prefetch" href="/assets/js/43.74393af5.js"><link rel="prefetch" href="/assets/js/44.9d05ba51.js"><link rel="prefetch" href="/assets/js/5.00dd7cd0.js"><link rel="prefetch" href="/assets/js/6.9ca81a96.js"><link rel="prefetch" href="/assets/js/7.24dcfe4e.js"><link rel="prefetch" href="/assets/js/8.f67b2fab.js"><link rel="prefetch" href="/assets/js/9.85b5be06.js">
    <link rel="stylesheet" href="/assets/css/styles.1d2d3735.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      Carolina Documentation
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Documentation</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Documentation</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Getting Started</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Framework Overview</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/docs/overview/process.html" class="sidebar-link">Basic Server Process</a></li><li><a href="/docs/overview/service-library.html" class="sidebar-link">The Carolina Global Object</a></li><li><a href="/docs/overview/custom-services.html" class="sidebar-link">Custom Services</a></li><li><a href="/docs/overview/services.html" class="active sidebar-link">Framework Services &amp; Class Libraries</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/overview/services.html#class-libraries" class="sidebar-link">Class Libraries</a></li><li class="sidebar-sub-header"><a href="/docs/overview/services.html#class-reference" class="sidebar-link">Class Reference</a></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Basics</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Authentication</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Advanced</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Databases</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Included Plugins</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="framework-services-class-libraries"><a href="#framework-services-class-libraries" aria-hidden="true" class="header-anchor">#</a> Framework Services &amp; Class Libraries</h1><p>The Services of the Carolina library are available, as documented
in an <a href="/docs/overview/service-library.html">earlier section</a>, are available
from the Carolina global object via the <code>$(serviceName)</code> method. This section
includes more details on the Services available as well as how to use the
class libraries that many of these Services maintain.</p><p>Many parts of this section are not required for all applications, and this
section can be skimmed.</p><h2 id="class-libraries"><a href="#class-libraries" aria-hidden="true" class="header-anchor">#</a> Class Libraries</h2><p>There are two basic types of class libraries: libraries of actual classes
and libraries of singletons. There is also the special case of &quot;drivers&quot;,
which are a part of some Services.</p><p>Regardless of the type, each item in such a library has a canonical name.
The libraries are made up of items that come as a part of the framework, those
exported by a certain file in your <code>site/</code> directory, and those exported
by plugins.</p><h3 id="singleton-objects"><a href="#singleton-objects" aria-hidden="true" class="header-anchor">#</a> Singleton Objects</h3><p>Singleton libraries are sets of singleton classes accessible from a certain
Service. Examples include Controllers (maintained by the Http Service)
and Listeners (maintained by the Events Service).</p><p>You would rarely need to gain access directly to most of these singletons.
Controllers, for example, are automatically called by the Http Service to
handle incoming requests and Listeners are automatically called by the
Events Service when Events are thrown.</p><p>Supposing you need to inspect a certain Listener (perhaps, since its a
singleton, it keeps a count of something going):</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> EventsSvc <span class="token operator">=</span> Carolina<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'Events'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> myCustomListenerInstance <span class="token operator">=</span> EventsSvc<span class="token punctuation">.</span><span class="token function">_listener</span><span class="token punctuation">(</span><span class="token string">'MyCustomListener'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>These are the types of singleton objects in the Carolina framework,
along with descriptions. See the bottom of this page for a list
of class types with their associated Services.</p><p><strong>Listeners</strong></p><p>Listeners are classes that define an <code>async handle(event)</code> method that are
passed an Event object everytime one is thrown that the Listener is configured
to listen for. The configuration mapping Event classes to Listeners is found
in <code>config/events.js</code>.</p><p><strong>Controllers</strong></p><p>Controllers are classes that define one or more
<code>async methodName(request, data={})</code> methods that take HttpRequest objects
and return HttpResponse objects. The mapping of certain routes to certain
Controllers and their methods is found in <code>site/http/routes/index.js</code>.</p><p><strong>Middleware</strong></p><p>Middleware are classes that define an <code>async before(request, data={})</code> method
and an <code>async after(request, response, data={})</code>. They are called automatically
by the Http Service on incoming requests and outgoing responses.</p><p><strong>Rules</strong></p><p>Rules are classes that define a <code>validate(config, value)</code> method that
returns true or false based on whether an object passes validation based on that
rule. Rules are often attached to Schemas that are used by the Validation
Service to validate certain objects and inputs and by the DB Service to define
database Models.</p><p><strong>Schemas</strong></p><p>Schemas are classes that are made of Fields and sometimes Rules. They are used
by the Validation Service and sometimes attached to database Models.</p><h3 id="classes"><a href="#classes" aria-hidden="true" class="header-anchor">#</a> Classes</h3><p>Class libraries are sets of classes available from certain Services. Examples
include Models (maintained by the DB Service) and Errors (maintained by
the Errors Service).</p><p>Suppose that you need an Event (from the Events Service). You can get one
to fire this way:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> EventsSvc <span class="token operator">=</span> Carolina<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'Events'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> MyCustomEvent <span class="token operator">=</span> EventsSvc<span class="token punctuation">.</span><span class="token function">_eventClass</span><span class="token punctuation">(</span><span class="token string">'MyCustomEvent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCustomEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
event<span class="token punctuation">.</span><span class="token function">fire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Fields</strong></p><p>Fields are classes that describe what an attribute on an object or database
model should look like. Schemas are made up of Fields.</p><p><strong>Models</strong></p><p>Models are classes that represent certain data objects in the database.
They are correlated with Schemas.</p><p><strong>Errors</strong></p><p>Errors are classes that can be constructed and then thrown, and contain
metadata describing an error.</p><p><strong>Events</strong></p><p>Events are objects that define data and can be &quot;fired&quot;, being passed to any
Listeners configured to listen to the specific Event type.</p><h3 id="drivers"><a href="#drivers" aria-hidden="true" class="header-anchor">#</a> Drivers</h3><p>Drivers are sets of classes that you generally don't need to access directly.
Instead, a Service maintains a limited number of instances based on
configuration found in the <code>config/</code> directory. Examples include
Loggers (maintained by the Logger Service) and Mailers (maintained by the
Email Service). They are often referenced by name.</p><p>For example, the &quot;public&quot; File Driver is accessible from the Files Service.</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> FilesSvc <span class="token operator">=</span> Carolina<span class="token punctuation">.</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'Files'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> publicFileDriver <span class="token operator">=</span> FilesService<span class="token punctuation">.</span>drivers<span class="token punctuation">[</span><span class="token string">'public'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Mailers</strong></p><p>Mailers are e-mail sending configured objects. They are managed by the
Email Service based on the configuration found in <code>config/email.js</code>.
Every project must at least
define a &quot;default&quot; Mailer.</p><p><strong>File Drivers</strong></p><p>File drivers are objects that manage access to files. They are managed by
the Files Service based on the configuration found in <code>config/files.js</code>.
Every project must define at least the &quot;public&quot;, &quot;private&quot;, and &quot;temp&quot;
file drivers.</p><p><strong>Loggers</strong></p><p>Loggers are objects that react to log events and handle them in various
ways. They are managed by the Logger Service based on the configuration
found in <code>config/logger.js</code>.</p><h2 id="class-reference"><a href="#class-reference" aria-hidden="true" class="header-anchor">#</a> Class Reference</h2><table><thead><tr><th>Class Name</th><th>Type</th><th>Managing Service</th><th>Method</th><th>Base Class</th></tr></thead><tbody><tr><td>Command</td><td>Special</td><td>Terminal</td><td><em>Accessed via CLI</em></td><td><code>BaseCommand</code></td></tr><tr><td>Controller</td><td>Singleton</td><td>Http</td><td><code>HttpSvc._controller(name)</code></td><td><code>BaseController</code></td></tr><tr><td>Error</td><td>Class</td><td>Errors</td><td><code>ErrorsSvc._errorClass(name)</code></td><td><code>BaseError</code></td></tr><tr><td>Event</td><td>Class</td><td>Events</td><td><code>EventsSvc._eventClass(name)</code></td><td><code>BaseEvent</code></td></tr><tr><td>Field</td><td>Class</td><td>DB</td><td><code>DBSvc._fieldClass(name)</code></td><td><code>BaseField</code></td></tr><tr><td>FileDriver</td><td>Driver</td><td>Files</td><td><code>FilesSvc.drivers[name]</code></td><td><code>BaseFileDriver</code></td></tr><tr><td>Listener</td><td>Singleton</td><td>Events</td><td><code>EventsSvc._listener(name)</code></td><td><code>BaseListener</code></td></tr><tr><td>Logger</td><td>Driver</td><td>Logger</td><td><code>LoggerSvc.loggers[name]</code></td><td><code>BaseLogger</code></td></tr><tr><td>Middleware</td><td>Singleton</td><td>Http</td><td><code>HttpSvc._middleware(name)</code></td><td><code>BaseMiddleware</code></td></tr><tr><td>Mailer</td><td>Driver</td><td>Email</td><td><code>EmailSvc.mailer[name]</code></td><td><code>BaseMailer</code></td></tr><tr><td>Model</td><td>Class</td><td>DB</td><td><code>DBSvc._modelClass(name)</code></td><td><code>BaseModel</code></td></tr><tr><td>Rule</td><td>Singleton</td><td>Validation</td><td><code>ValidationSvc._rule(name)</code></td><td><code>BaseRule</code></td></tr><tr><td>Schema</td><td>Singleton</td><td>Validation</td><td><code>ValidationSvc._schema(name)</code></td><td><code>BaseSchema</code></td></tr></tbody></table></div><div class="page-edit"><!----><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/docs/overview/custom-services.html" class="prev">
          Custom Services
        </a></span><span class="next"><a href="/docs/basics/routing.html">
          Routing
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/app.1d2d3735.js" defer></script><script src="/assets/js/39.b4986129.js" defer></script>
  </body>
</html>
