<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Schemas and Fields | Carolina Documentation</title>
    <meta name="description" content="Documentation for the Carolina web framework.">
    
    
    <link rel="preload" href="/assets/css/styles.4c99cee3.css" as="style"><link rel="preload" href="/assets/js/app.4c99cee3.js" as="script"><link rel="preload" href="/assets/js/32.076ea23e.js" as="script"><link rel="prefetch" href="/assets/js/1.1cf9f1db.js"><link rel="prefetch" href="/assets/js/10.67736b9c.js"><link rel="prefetch" href="/assets/js/11.7beeac27.js"><link rel="prefetch" href="/assets/js/12.8ffce904.js"><link rel="prefetch" href="/assets/js/13.54a86374.js"><link rel="prefetch" href="/assets/js/14.f6222131.js"><link rel="prefetch" href="/assets/js/15.60843f1a.js"><link rel="prefetch" href="/assets/js/16.3bab9827.js"><link rel="prefetch" href="/assets/js/17.371a0e2c.js"><link rel="prefetch" href="/assets/js/18.2bf4752f.js"><link rel="prefetch" href="/assets/js/19.d7b2b433.js"><link rel="prefetch" href="/assets/js/2.d296c8c8.js"><link rel="prefetch" href="/assets/js/20.84f7874a.js"><link rel="prefetch" href="/assets/js/21.b063a67b.js"><link rel="prefetch" href="/assets/js/22.75e8e46c.js"><link rel="prefetch" href="/assets/js/23.c3543ea8.js"><link rel="prefetch" href="/assets/js/24.5c5f18c8.js"><link rel="prefetch" href="/assets/js/25.64098a0b.js"><link rel="prefetch" href="/assets/js/26.e2acfd13.js"><link rel="prefetch" href="/assets/js/27.aff06937.js"><link rel="prefetch" href="/assets/js/28.8bc12e94.js"><link rel="prefetch" href="/assets/js/29.c7890b85.js"><link rel="prefetch" href="/assets/js/3.79b6242f.js"><link rel="prefetch" href="/assets/js/30.1c7523a4.js"><link rel="prefetch" href="/assets/js/31.41d153ce.js"><link rel="prefetch" href="/assets/js/33.4df50c49.js"><link rel="prefetch" href="/assets/js/34.afd39df7.js"><link rel="prefetch" href="/assets/js/35.96ad804d.js"><link rel="prefetch" href="/assets/js/36.4b18f55f.js"><link rel="prefetch" href="/assets/js/37.785cf241.js"><link rel="prefetch" href="/assets/js/38.8ff035ad.js"><link rel="prefetch" href="/assets/js/39.e0c013ee.js"><link rel="prefetch" href="/assets/js/4.455a7b47.js"><link rel="prefetch" href="/assets/js/40.141dd392.js"><link rel="prefetch" href="/assets/js/41.c0c4f533.js"><link rel="prefetch" href="/assets/js/42.a505c995.js"><link rel="prefetch" href="/assets/js/43.9538af71.js"><link rel="prefetch" href="/assets/js/44.4a09b0cb.js"><link rel="prefetch" href="/assets/js/45.01328d52.js"><link rel="prefetch" href="/assets/js/46.d54fdc6d.js"><link rel="prefetch" href="/assets/js/47.93af6532.js"><link rel="prefetch" href="/assets/js/48.3aecbfc9.js"><link rel="prefetch" href="/assets/js/49.030d249e.js"><link rel="prefetch" href="/assets/js/5.39ac8b79.js"><link rel="prefetch" href="/assets/js/50.830dbfe7.js"><link rel="prefetch" href="/assets/js/51.8883ddf5.js"><link rel="prefetch" href="/assets/js/52.0e11daf2.js"><link rel="prefetch" href="/assets/js/53.fc4fea9f.js"><link rel="prefetch" href="/assets/js/54.224ab9d2.js"><link rel="prefetch" href="/assets/js/55.57f73974.js"><link rel="prefetch" href="/assets/js/56.f67ded59.js"><link rel="prefetch" href="/assets/js/6.53b715ea.js"><link rel="prefetch" href="/assets/js/7.3c48cb9f.js"><link rel="prefetch" href="/assets/js/8.23ab337a.js"><link rel="prefetch" href="/assets/js/9.01843353.js">
    <link rel="stylesheet" href="/assets/css/styles.4c99cee3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      Carolina Documentation
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Documentation</a></div><div class="nav-item"><a href="/tutorials/" class="nav-link">Tutorial</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Documentation</a></div><div class="nav-item"><a href="/tutorials/" class="nav-link">Tutorial</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Getting Started</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Framework Overview</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Basics</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Authentication</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Advanced</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Databases</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/docs/db/db-service.html" class="sidebar-link">The DB Service</a></li><li><a href="/docs/db/schemas.html" class="active sidebar-link">Schemas and Fields</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/db/schemas.html#generating-models" class="sidebar-link">Generating Models</a></li><li class="sidebar-sub-header"><a href="/docs/db/schemas.html#model-structure" class="sidebar-link">Model Structure</a></li><li class="sidebar-sub-header"><a href="/docs/db/schemas.html#writing-schemas" class="sidebar-link">Writing Schemas</a></li><li class="sidebar-sub-header"><a href="/docs/db/schemas.html#schema-fields" class="sidebar-link">Schema Fields</a></li></ul></li><li><a href="/docs/db/models.html" class="sidebar-link">Models</a></li><li><a href="/docs/db/queries.html" class="sidebar-link">Database Queries</a></li><li><a href="/docs/db/fixtures.html" class="sidebar-link">Fixtures</a></li><li><a href="/docs/db/relations.html" class="sidebar-link">Reference Fields</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Included Plugins</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="schemas-and-fields"><a href="#schemas-and-fields" aria-hidden="true" class="header-anchor">#</a> Schemas and Fields</h1><p>The DB Service looks for custom Model classes to be defined in
<code>site/db/models/index.js</code>. The <code>User</code> model comes predefined there
(other Model classes that are included with the framework are defined
inside Carolina itself). A Model class consists of two parts: a Schema
(which includes Fields) and the actual Model class which will be
instantiated.</p><p></p><div class="table-of-contents"><ul><li><a href="#generating-models">Generating Models</a></li><li><a href="#model-structure">Model Structure</a></li><li><a href="#writing-schemas">Writing Schemas</a><ul><li><a href="#table-name">Table Name</a></li><li><a href="#object-ids">Object IDs</a></li><li><a href="#timestamp-fields">Timestamp Fields</a></li></ul></li><li><a href="#schema-fields">Schema Fields</a><ul><li><a href="#included-field-types">Included Field Types</a></li></ul></li></ul></div><p></p><h2 id="generating-models"><a href="#generating-models" aria-hidden="true" class="header-anchor">#</a> Generating Models</h2><p>You can generate a new model class using the CLI:</p><div class="language- extra-class"><pre class="language-text"><code>node . generate model MyCustomModel
</code></pre></div><p>This would create the file
<code>site/db/models/my-custom-model.js</code>.
Inside the file would be the definition of both a Schema and a Model, with an
instance of the Schema attached to the Model class's prototype.</p><h2 id="model-structure"><a href="#model-structure" aria-hidden="true" class="header-anchor">#</a> Model Structure</h2><p>An example Model might look something like this:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> BaseModel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'carolina/main/db/models/base-model'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> BaseSchema <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'carolina/main/db/schemas/base-schema'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MovieShowingSchema</span> <span class="token keyword">extends</span> <span class="token class-name">Schema</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span>table <span class="token operator">=</span> <span class="token string">'moving_showing'</span><span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>movieName <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'String'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>theatreNumber <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'Number'</span><span class="token punctuation">,</span> min<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> max<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>showTime <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'Date'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>durationMinutes <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'Number'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span>adminFields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'movieName'</span><span class="token punctuation">,</span> <span class="token string">'showTime'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> schemaInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MovieShowingSchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MovieShowing</span> <span class="token keyword">extends</span> <span class="token class-name">BaseModel</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">MovieShowing</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>schema <span class="token operator">=</span> schemaInstance<span class="token punctuation">;</span>

exports <span class="token operator">=</span> module<span class="token punctuation">.</span>exports <span class="token operator">=</span> MovieShowing<span class="token punctuation">;</span>
</code></pre></div><h2 id="writing-schemas"><a href="#writing-schemas" aria-hidden="true" class="header-anchor">#</a> Writing Schemas</h2><p>In the example above, the instances of the MovieShowing class will have the
properties <code>movieName</code>, <code>theatreNumber</code>, <code>showTime</code>, and <code>durationMinutes</code>
as specified in the schema. All of this is done by the BaseModel
constructor. The Schema field definitions reference objects in the library of
Field classes managed by the DB Service.</p><h3 id="table-name"><a href="#table-name" aria-hidden="true" class="header-anchor">#</a> Table Name</h3><p>The <code>table</code> property of the Schema is required. The value will be used by the
particular connection of the Database object to place objects in the correct
collections.</p><div class="danger custom-block"><p class="custom-block-title">WARNING</p><p>Once instances of a Model are in the database, you MUST NOT change the <code>table</code>
property.</p></div><h3 id="object-ids"><a href="#object-ids" aria-hidden="true" class="header-anchor">#</a> Object IDs</h3><p>As described in more detail below, a Schema is made up of certain fields
defining what a Model class instance will have as properties. In addition to
what is defined in the Schema, there will be an <code>_id</code> property, which is used
by the underly database Connection (usually as a primary key).</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> User <span class="token operator">=</span> DBSvc<span class="token punctuation">.</span><span class="token function">_modelClass</span><span class="token punctuation">(</span><span class="token string">'User'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> adminUser <span class="token operator">=</span> <span class="token keyword">await</span> User<span class="token punctuation">.</span>$<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span> username<span class="token punctuation">:</span> <span class="token string">'admin'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>adminUser<span class="token punctuation">.</span>_id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &quot;12345&quot;</span>
</code></pre></div><p>The <code>_id</code> is always a String.</p><h3 id="timestamp-fields"><a href="#timestamp-fields" aria-hidden="true" class="header-anchor">#</a> Timestamp Fields</h3><p>In addition to fields which you define, the super constructor for
<code>BaseSchema</code> will set up the <code>fields</code> property with two Fields.</p><div class="danger custom-block"><p class="custom-block-title">IMPORTANT</p><p>Note that after the <code>super()</code> call in the Scheme constructor, you are
attaching new properties to the <code>fields</code> object. Do not reset the <code>fields</code>
object or you will get rid of default fields.</p></div><p>The <code>BaseSchema</code> constructor has already created two <code>Date</code> fields,
<code>createdAt</code> and <code>updatedAt</code>. The <code>createdAt</code> field will be assigned to every
Model instance the first time it is created and the <code>updatedAt</code> field will
be  updated every time an Model instance is saved.</p><p>Example:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> User <span class="token operator">=</span> DBSvc<span class="token punctuation">.</span><span class="token function">_modelClass</span><span class="token punctuation">(</span><span class="token string">'User'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> adminUser <span class="token operator">=</span> <span class="token keyword">await</span> User<span class="token punctuation">.</span>$<span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span> username<span class="token punctuation">:</span> <span class="token string">'admin'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> userCreated <span class="token operator">=</span> adminUser<span class="token punctuation">.</span>createdAt<span class="token punctuation">;</span> <span class="token comment">// =&gt; moment object</span>
<span class="token keyword">let</span> userUpdated <span class="token operator">=</span> adminUser<span class="token punctuation">.</span>updatedAt<span class="token punctuation">;</span> <span class="token comment">// =&gt; moment object</span>
</code></pre></div><h2 id="schema-fields"><a href="#schema-fields" aria-hidden="true" class="header-anchor">#</a> Schema Fields</h2><p>Each particular attribute in a Schema, and therefore each object as a whole
belonging to a schema, has three forms:</p><ul><li><strong>Database Form</strong>: The form that will be present in a database. Should be representable in a simple Javascript object.</li><li><strong>Object Form</strong>: The form that will be present as part of an instance of a Model class. Can be essentially anything.</li><li><strong>JSON Form</strong>: The form that will be present when an object is serialized to JSON for transit or other purposes. Also the form from which model instances will be constructed. Must be compatible with <code>JSON.stringify()</code>.</li></ul><p>An example of these three forms in action is the &quot;DateField&quot;. An attribute
belonging to a model instance that has the field type of &quot;DateField&quot; is
represented as a <a href="https://momentjs.com/" target="_blank" rel="noopener noreferrer">Moment.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> object in Object Form,
a plain Javascript Date in Database Form, and as a UTC string in JSON Form.</p><h3 id="included-field-types"><a href="#included-field-types" aria-hidden="true" class="header-anchor">#</a> Included Field Types</h3><p>Every field is subclass of <code>BaseField</code>. The <code>BaseField</code> class is not available
via the DB Service and should never be used directly. However, several of
the attributes you can use as part of schemas are defined in <code>BaseField</code>.</p><ul><li><code>allowedValues</code>: An array that, when provided and not empty, means that the given value for the field must be one of these listed values.</li><li><code>bannedValues</code>: An array that, when provided and not empty, means that the given value for the field must <strong>not</strong> be one of the listed values. The <code>allowedValues</code> attribute supercedes <code>bannedValues</code>.</li><li><code>defaultValue</code>: When provided, the given value will be used when creating objects of the schema when a value has not been supplied.</li><li><code>description</code>: A human-friendly description of the field. This is used in the admin panel and other places.</li><li><code>min</code>: For numeric fields (including dates), this enforces the value of a schema attribute must be greater than or equal to the given minimum. For string fields, this enforces that the value must be at least a certain number of characters in length.</li><li><code>max</code>: For numeric fields (including dates), this enforces the value of a schema attribute must be less than or equal to the given maximum. For string fields, this enforces that the value must be at most a certain number of characters in length.</li><li><code>name</code>: <strong>String</strong>. The user-friendly name of the field.</li><li><code>required</code>: When true, the value of schema attribute must exist and not be null.</li><li><code>verbose</code>: A human-friendly version of the field name. This is used in the admin panel and other places.</li></ul><p>For fields such as <code>defaultValue</code>, <code>min</code>, and <code>max</code>, the JSON Form of the
value should be used. So <code>min</code> and <code>max</code> dates should be provided as
Strings such as &quot;20180805T232700&quot;.</p><h4 id="array"><a href="#array" aria-hidden="true" class="header-anchor">#</a><code>Array</code></h4><p>The <code>Array</code> field class is defined in
<code>carolina/main/db/fields/array-field.js</code>.</p><p>An array field represents an array (or list) attribute. It retains the same
form in Database Form, Object Form, and JSON Form.</p><p>Example (in a Schema):</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>groupNames <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&quot;Array&quot;</span><span class="token punctuation">,</span> defaultValue<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;visitors&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Attributes</strong></p><p>The Array Field can be configured with all the basic attributes of
<code>BaseField</code>. The attributes <code>min</code> and <code>max</code>, if provided, enforce that the
array will have at least <code>min</code> items and at most <code>max</code> items.</p><h4 id="boolean"><a href="#boolean" aria-hidden="true" class="header-anchor">#</a><code>Boolean</code></h4><p>The <code>Boolean</code> field class is defined in
<code>carolina/main/db/fields/boolean-field.js</code>.</p><p>A <code>Boolean</code> field must be either <code>true</code> for <code>false</code> (or null, if allowed).</p><p>Example (in a Schema):</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>acceptTermsAndConditions <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&quot;Boolean&quot;</span><span class="token punctuation">,</span> requireTrue<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Attributes</strong></p><p>The Boolean Field can be configured with all the basic attributes of
<code>BaseField</code> (although <code>min</code> and <code>max</code> should not be used) and the following
additional attributes.</p><ul><li><code>requireTrue</code>: Enforces that the attribute exists and is true.</li></ul><h4 id="date"><a href="#date" aria-hidden="true" class="header-anchor">#</a><code>Date</code></h4><p>The <code>Date</code> field class is defined in
<code>carolina/main/db/fields/date-field.js</code>.</p><p>A <code>Date</code> field, in JSON form, must be a string that can be constructed into
a <a href="https://momentjs.com/" target="_blank" rel="noopener noreferrer">Moment.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> object.</p><p>In Object Form, a <code>Date</code> attribute will be a Moment.js object.</p><p>In Database Form, a <code>Date</code> attribute will either be a String or Javascript
Date.</p><p>Example (in a Schema):</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>birthday <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&quot;Date&quot;</span><span class="token punctuation">,</span> max<span class="token punctuation">:</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'years'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Attributes</strong></p><p>The <code>Date</code> Field can be configured with all the basic attributes of
<code>BaseField</code>.</p><p>The <code>min</code> attribute enforces that the date must be cannot be before the
date specified and the <code>max</code> attribute enforces that the date cannot be after
the date specified.</p><p>The <code>Date</code> field also has the following
additional attributes.</p><ul><li><code>updateOnSave</code>: Specifies that the attribute will be updated with the current datetime during the <code>preSave</code> event.</li><li><code>useCurrentTimeAsDefault</code>: Specifies that the current time should be used as a default value.</li></ul><h4 id="email"><a href="#email" aria-hidden="true" class="header-anchor">#</a><code>Email</code></h4><p>The <code>Email</code> Field class is defined in
<code>carolina/main/db/fields/email-field.js</code>.
It is a subclass of the <code>String</code> Field.</p><p>The <code>Email</code> Field is just a <code>String</code> Field with a regex property enforcing
that values are legitimate e-mail addresses. The following fields are
equivalent:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>email1 <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'String'</span><span class="token punctuation">,</span> regex<span class="token punctuation">:</span> <span class="token regex">/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>email2 <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'Email'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Attributes</strong></p><p>The <code>Email</code> Field can be configured with all the same
attributes as the <code>String</code>
field, except for <code>regex</code>, which will be overwritten with the
e-mail regex shown above.</p><h4 id="integer"><a href="#integer" aria-hidden="true" class="header-anchor">#</a><code>Integer</code></h4><p>The <code>Integer</code> field class is defined in
<code>carolina/main/db/fields/integer-field.js</code>.
It is a subclass of the <code>Number</code> field.</p><p>An <code>Integer</code> field must be a whole number, although numbers like &quot;35.0&quot; will
be accepted and coerced into an integer.</p><p>Example (in a Schema):</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&quot;Integer&quot;</span><span class="token punctuation">,</span> min<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span> max<span class="token punctuation">:</span> <span class="token number">969</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Attributes</strong></p><p>The <code>Integer</code> Field can be configured with all the basic attributes of
<code>BaseField</code>.</p><h4 id="ipv4"><a href="#ipv4" aria-hidden="true" class="header-anchor">#</a><code>IPv4</code></h4><p>The <code>IPv4</code> Field class is defined in
<code>carolina/main/db/fields/ip-v4-field.js</code>.
It is a subclass of the <code>String</code> Field.</p><p>The <code>IPv4</code> Field is just a <code>String</code> Field with a regex property enforcing
that values are legitimate IPv4 addresses. The following fields are
equivalent:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>ip1 <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'String'</span><span class="token punctuation">,</span> regex<span class="token punctuation">:</span> <span class="token regex">/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>ip2 <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'IPv4'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Attributes</strong></p><p>The <code>IPv4</code> Field can be configured with all the same
attributes as the <code>String</code>
field, except for <code>regex</code>, which will be overwritten with the
IP regex shown above.</p><h4 id="json"><a href="#json" aria-hidden="true" class="header-anchor">#</a><code>Json</code></h4><p>The <code>Json</code> field class is defined in
<code>carolina/main/db/fields/json-field.js</code>.</p><p>A <code>Json</code> field can be a Javascript object or array.</p><p>In Object Form and Database Form it is an actual array or object.
In JSON Form it is serialized an actual <strong>string</strong> (although for
post requests an object construction it <em>may</em> be an array or object).</p><p>Example (in a Schema):</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>location <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&quot;Json&quot;</span><span class="token punctuation">,</span> defaultValue<span class="token punctuation">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> format<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Attributes</strong></p><p>The <code>Json</code> Field can be configured with all the basic attributes of
<code>BaseField</code> and the following
additional attributes.</p><ul><li><code>format</code>: Whether or not the JSON serialized version should be formatted with spaces and indentation or not. Defaults to true.</li></ul><h4 id="number"><a href="#number" aria-hidden="true" class="header-anchor">#</a><code>Number</code></h4><p>The <code>Number</code> field class is defined in
<code>carolina/main/db/fields/number-field.js</code>.</p><p>The <code>Number</code> field can be any number and is the same in Database, Object,
and JSON forms.</p><p>Example (in a Schema):</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>locationX <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&quot;Number&quot;</span><span class="token punctuation">,</span> defaultValue<span class="token punctuation">:</span> <span class="token number">96.5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="ref"><a href="#ref" aria-hidden="true" class="header-anchor">#</a><code>Ref</code></h4><p>The <code>Ref</code> field points to an instance of another Model.
For more information on references, see the section on
<a href="/docs/db/relations.html">Reference Fields</a>.</p><h4 id="string"><a href="#string" aria-hidden="true" class="header-anchor">#</a><code>String</code></h4><p>The <code>String</code> field class is defined in
<code>carolina/main/db/fields/string-field.js</code>.</p><p>The <code>String</code> value represents a simple string.</p><p>Example (in a Schema):</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>fields<span class="token punctuation">.</span>terrain <span class="token operator">=</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&quot;String&quot;</span><span class="token punctuation">,</span> defaultValue<span class="token punctuation">:</span> <span class="token string">&quot;plains&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Attributes</strong></p><p>The <code>String</code> Field can be configured with all the basic attributes of
<code>BaseField</code>. The attributes <code>min</code> and <code>max</code>, if provided, enforce that the
string will have at least <code>min</code> characters and at most <code>max</code> characters.
The <code>String</code> field can also be configured with the following additional
attributes:</p><ul><li><code>regex</code>: A pattern that, if provided, enforces that the string must match it.
It can be either a string or a <code>RegExp</code>.</li></ul><h4 id="text"><a href="#text" aria-hidden="true" class="header-anchor">#</a><code>Text</code></h4><p>The <code>Text</code> Field class is defined in
<code>carolina/main/db/fields/text-field.js</code>.</p><p>It extends <code>String</code> Field and has all its attributes. It is designed to
be used for longer blocks of text.</p></div><div class="page-edit"><!----><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/docs/db/db-service.html" class="prev">
          The DB Service
        </a></span><span class="next"><a href="/docs/db/models.html">
          Models
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/app.4c99cee3.js" defer></script><script src="/assets/js/32.076ea23e.js" defer></script>
  </body>
</html>
