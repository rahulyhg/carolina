(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{173:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._m(1),a("p",[t._v('If you are familiar with pug, you will note that this base template accepts\na title and also provides a "body" block that extending templates can use.\nIt also provides Bootstrap CSS. For more information on how to write HTML\nfor Bootstrap, consult the\n'),a("a",{attrs:{href:"https://getbootstrap.com/docs/4.1/getting-started/introduction/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Bootstrap CSS documentation"),a("OutboundLink")],1),t._v(".")]),t._m(2),t._m(3),a("p",[t._v('All of the HTML we defined here will be inserted into the "body" block of the\nbase template we looked at earlier. The line '),a("code",[t._v("+flashMessage(locals.request)")]),t._v("\nuses a mixin defined in "),a("code",[t._v("templates/carolina/session/mixins")]),t._v(" that will display\nflash messages from the server. Flash messages will be covered in a later\nsection. The "),a("code",[t._v("+csrfToken(locals.request)")]),t._v(" uses a mixin defined in\n"),a("code",[t._v("templates/carolina/http/mixins")]),t._v(" that inserts the CSRF token, which is\nrequired by default for the included Middleware to accept form POST requests.\nFor more information on CSRF tokens, consult the documentation on\n"),a("router-link",{attrs:{to:"./../docs/basics/csrf.html"}},[t._v("CSRF Tokens")]),t._v(".")],1),t._m(4),t._m(5),t._m(6)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"templates"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#templates","aria-hidden":"true"}},[this._v("#")]),this._v(" Templates")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Templates are stored in the "),s("code",[this._v("templates/")]),this._v(" directory as we saw earlier.\nWith templates, it's common to define base layouts and have other\ntemplate files extend them. The framework contains a base layout that is used\nfor the landing page. It is located in\n"),s("code",[this._v("templates/carolina/base/boostrap_base.pug")]),this._v(". Let's look at it.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Create the file "),s("code",[this._v("templates/items.pug")]),this._v(" and make a form for submitting new\nitems for the inventory:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-pug extra-class"},[a("pre",{pre:!0,attrs:{class:"language-pug"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends carolina/base/bootstrap_base")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("include carolina/http/mixins")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("include carolina/session/mixins")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("block body")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("br")]),t._v("\n  \n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("div.container")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("div.row")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("div.col-md-8.mx-auto")]),t._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token mixin"}},[a("span",{pre:!0,attrs:{class:"token name function"}},[t._v("+flashMessages")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("locals"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("div.card")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("h5.card-header")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Add Item")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v(".card-body")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("form"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/item"')]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n              \n              "),a("span",{pre:!0,attrs:{class:"token mixin"}},[a("span",{pre:!0,attrs:{class:"token name function"}},[t._v("+csrfToken")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("locals"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n            \n              "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v(".row")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v(".col-md-3.text-right")]),t._v("\n                  "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("label")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Item Name")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v(".col-md-8.ml-auto")]),t._v("\n                  "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("input.form-control"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"item"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n              \n              "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("br")]),t._v("\n              \n              "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v(".row")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v(".col-md-3.text-right")]),t._v("\n                  "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("label")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Description")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v(".col-md-8.ml-auto")]),t._v("\n                  "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("textarea.form-control"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rows")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n                  \n              "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("br")]),t._v("\n              \n              "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v(".row")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v(".col-md-8.ml-auto")]),t._v("\n                  "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("button.btn.btn-primary"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"submit"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Create")]),t._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// add list here")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("TODO: List of items")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("We can now edit the "),s("code",[this._v("handle")]),this._v(" method of "),s("code",[this._v("ItemController")]),this._v(" to render this template:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("handle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pugTemplate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"items"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Inventory"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("If you run the server again and visit "),s("code",[this._v("http://localhost:8080/items")]),this._v(", you\nshould see the page we just wrote rendered. Next we will need to handle\nthe POST requests that our form submits.")])}],!1,null,null,null);s.default=n.exports}}]);