(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{138:function(t,s,e){"use strict";e.r(s);var n=e(0),a=Object(n.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),e("p",[t._v("As discussed in the\n"),e("router-link",{attrs:{to:"/docs/overview/service-library.html"}},[t._v("previous section")]),t._v(", the global Carolina\nobject maintains a library of Services. The Services which will be available\nare the ones listed in the "),e("code",[t._v("services")]),t._v(" property in the file "),e("code",[t._v("config/app.js")]),t._v('.\nMost of them are part of the Carolina framework, but one (which is called\n"App") is defined in the starter project as a starting point for a custom\nService.')],1),e("p",[t._v("This section covers writing your own custom Service.")]),t._m(1),t._m(2),e("p",[t._v("You can generate a new Service using the CLI:")]),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),e("p",[t._v("Once this Service is registered, the constructor will only be called once the\nfirst time this Service is needed by your application.")]),t._m(8),e("p",[t._v("You can define your own custom methods on the Service, and this is probably\nthe main use for a service.")]),t._m(9),t._m(10),e("p",[t._v("If the above Service were properly registered, you could then do the following\nfrom any part of your application:")]),t._m(11),t._m(12),t._m(13),t._m(14),e("p",[t._v("As is covered in later sections, some Services maintain libraries of class\ndefinitions and/or singletons of a certian type. This is more advanced - and\nis probably mostly useful if you are writing a plugin, but\nif you wish for your\nService to do this, there are some helper methods to make this easy.")]),t._m(15),t._m(16),t._m(17),e("p",[t._v("You would want to do this in the constructor:")]),t._m(18),t._m(19),t._m(20),e("p",[t._v("The method does the following things when called.")]),t._m(21),t._m(22),t._m(23),t._m(24),e("p",[t._v("You will need to do one more thing, if you want these things to be a library\nof singletons:")]),t._m(25),t._m(26),t._m(27),e("p",[t._v("If this is all done properly, you could do the following from any part of the\napplication:")]),t._m(28),e("p",[t._v("Singleton libraries like this probably make the most sense in this context,\nbut suppose you wanted to make it only a class library of uninstantiated\nclasses. You would do the same thing in the constructor, but do this\nas a method instead:")]),t._m(29),t._m(30),t._m(31),t._m(32),t._m(33),t._m(34),t._m(35)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"custom-services"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#custom-services","aria-hidden":"true"}},[this._v("#")]),this._v(" Custom Services")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"writing-services"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#writing-services","aria-hidden":"true"}},[this._v("#")]),this._v(" Writing Services")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("All Services, custom or otherwise, must extend the "),s("code",[this._v("BaseService")]),this._v(" class,\nwhich is exported by the file "),s("code",[this._v("carolina/services/base-service.js")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("node . generate service MyCustomService\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The above command would generate a new Service class in the file\n"),s("code",[this._v("site/main/services/my-custom-service.js")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"the-service-constructor"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-service-constructor","aria-hidden":"true"}},[this._v("#")]),this._v(" The Service Constructor")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Generally, very little should take place in the constructor for a Service.\nYou should "),s("strong",[this._v("not")]),this._v(" attempt to reference any other Services in the constructor.\nBecause the Carolina global object makes Services available on demand, you\nshouldn't have to either. The constructor should take no arguments, and\nshould pass its name to the constructor of "),s("code",[this._v("BaseService")]),this._v(". It is not required\nthat this name actually match the name under which the Service will be available\nfrom the Carolina object, but it will be used in some logging messages.")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyCustomService")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseService")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MyCustomService'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// basic initialization, if necessary")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("someKey "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'someValue'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"service-methods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service-methods","aria-hidden":"true"}},[this._v("#")]),this._v(" Service Methods")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Avoid naming methods that start with an underscore and don't call any method\n"),s("code",[this._v("onShutdown()")]),this._v(" unless you are intending to write the "),s("code",[this._v("onShutdown()")]),this._v(" method.\nIf you follow these rules, everything should be fine.")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyCustomService")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseService")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// constructor ")]),t._v("\n  \n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("multiply")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" x "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" y"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" MyCustomSvc "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Carolina"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MyCustomService'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" twentyFive "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MyCustomSvc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("multiply")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("The "),s("code",[this._v("onShutdown")]),this._v(" Method")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The "),s("code",[this._v("onShutdown()")]),this._v(" async method is called and awaited on every Service when\nthe application shuts down - so do anything that needs to be done there.\nYour Service will be initialized even if it wasn't used at all during the\napplication lifecycle, and the "),s("code",[this._v("onShutdown")]),this._v(" method will be called and\nawaited (and given no arguments).")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"service-libraries"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service-libraries","aria-hidden":"true"}},[this._v("#")]),this._v(" Service Libraries")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("For context and some examples,\nthe DB Service maintains class libraries of Models and Fields,\nthe Http Service maintains libraries of Controller and Middleware singletons,\nand the Events Service maintains a library of Listener singletons and\nEvent classes. The classes that make up these libraries are defined in the\nCarolina framework but can be loaded from your "),s("code",[this._v("site/")]),this._v(" directory as well.\nIn fact, this is how the Http Service gets access to your custom\nControllers and Middleware, for example.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Suppose that you want your custom Service to maintain a library of\nsingletons that provide the ability to make a post on various social media\nplatforms. You want all those singletons to be of classes that implement\na certain API but define different details under the hood.\nIn this case, you might want to elsewhere define a "),s("code",[this._v("BaseSocialMediaConnection")]),this._v("\nclass and document that all social media connection classes must subclass it.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("You would also decide where these things should be defined in the site\ndirectory. Perhaps under the directory "),s("code",[this._v("site/social/connections/")]),this._v(".")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyCustomService")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseService")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// other stuff")]),t._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("_initializeLibrary")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"socialConnectionClasses"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"socialConnections"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'social/connections'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"social media connection"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The "),s("code",[this._v("_initializeLibrary")]),this._v(" method is defined as part of "),s("code",[this._v("BaseService")]),this._v(".\nIts arguments are as follows (in order):")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[e("code",[t._v("classLibraryName")]),t._v(": The name of an object to store the class library.")]),e("li",[e("code",[t._v("instanceLibraryName")]),t._v(": The name of an object to store the insantiations.")]),e("li",[e("code",[t._v("location")]),t._v(": Where to look in the "),e("code",[t._v("site/")]),t._v(" directory or in plugins for class definitions.")]),e("li",[e("code",[t._v("initialClasses")]),t._v(": Any classes that should be a part of the library automatically.")]),e("li",[e("code",[t._v("name")]),t._v(": A user-friendly name for the object type, helpful for error messages but otherwise irrelevant.")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("Create the property "),e("code",[t._v("socialConnectionClasses")]),t._v(" on your service and initialize it to the 4th argument provided.")]),e("li",[t._v("Create the property "),e("code",[t._v("socialConnections")]),t._v(" on your service and initialize it as an empty object.")]),e("li",[t._v("Update "),e("code",[t._v("socialConnectionClasses")]),t._v(" with whatever is exposed by "),e("code",[t._v("site/social/connections.js")]),t._v(" or "),e("code",[t._v("site/social/connections/index.js")]),t._v(".")]),e("li",[t._v("Update "),e("code",[t._v("socialConnectionClasses")]),t._v(" with whatever is exposed by "),e("code",[t._v("<plugin_dir>/plugin/social/connections.js")]),t._v(" or "),e("code",[t._v("<plugin_dir>/plugin/social/connections/index.js")]),t._v(" for each installed plugin.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("At the end of this, your Service object will have a "),s("code",[this._v("socialConnectionClasses")]),this._v("\nproperty that is an object mapping names to classes.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("If you want to defined social media connections, the file\n"),s("code",[this._v("site/social/connections/index.js")]),this._v(" should export like so:")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FacebookConnect'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" FacebookConnect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// some class")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TwitterConnect'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TwitterConnect   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// also some class")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyCustomService")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseService")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// constructor")]),t._v("\n  \n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("_socialConnection")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("_lazyLoadObject")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'socialConnectionClasses'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'socialConnections'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"social connection"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("In this, the 2nd and 3rd arguments to "),s("code",[this._v("_lazyLoadObject")]),this._v(" must match the\n1st and 2nd arguments to "),s("code",[this._v("_initializeLibrary")]),this._v(". The final argument is again\ncosmetic.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("What this does is take a name, check the property "),s("code",[this._v("socialConnections")]),this._v(" for\nan existing instance. If one is found, that instance is returned. Otherwise,\nthe "),s("code",[this._v("socialConnectionClasses")]),this._v(" property is checked for a class definition. If\none is found, it is instantiated (with no arguments to the constructor) and\nstored in "),s("code",[this._v("socialConnections")]),this._v(' for future use and returned. If there is no\nexisting instance and no class defined, an error like\n"no matching social connection" will be raised.')])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" MyCustomSvc "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Carolina"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MyCustomService'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" facebookConnection "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MyCustomSvc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("_socialConnection")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FacebookConnect'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nfacebookConnection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("makePost")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyCustomService")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseService")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// constructor")]),t._v("\n  \n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("_socialConnectionClass")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("_loadClass")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'socialConnectionClasses'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'social connection'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("In this case, the 2nd argument to "),s("code",[this._v("_loadClass")]),this._v(" must match the 1st argument\nto "),s("code",[this._v("_initializeLibrary")]),this._v(". This simply returns the class, allowing this:")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" MyCustomSvc "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Carolina"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MyCustomService'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" FacebookConnect "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MyCustomSvc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("_socialConnectionClass")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FacebookConnect'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nfacebookConnection "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FacebookConnect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"registering-services"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#registering-services","aria-hidden":"true"}},[this._v("#")]),this._v(" Registering Services")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("To property register your new Service, you add the following to "),s("code",[this._v("services")]),this._v("\nunder "),s("code",[this._v("config/app.js")]),this._v(":")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// other services")]),t._v("\n  \n  MyCustomService"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./site/services/my-custom-service"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// yet more services")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("This is what allows "),s("code",[this._v("Carolina.$('MyCustomService');")]),this._v(" to work.")])}],!1,null,null,null);s.default=a.exports}}]);