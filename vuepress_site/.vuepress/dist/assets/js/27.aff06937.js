(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{159:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),t._m(1),a("p",[t._v("The framework comes with two connection types:")]),t._m(2),a("p"),t._m(3),a("p"),t._m(4),t._m(5),t._m(6),t._m(7),a("p",[t._v("Example:")]),t._m(8),t._m(9),t._m(10),a("p",[t._v("To configure an instance of "),a("code",[t._v("MongoDbConnection")]),t._v(", you may need to identify the\n"),a("code",[t._v("host")]),t._v(", "),a("code",[t._v("port")]),t._v(", and "),a("code",[t._v("dbName")]),t._v('. The default is a database called "main"\non '),a("code",[t._v("localhost:27017")]),t._v(". You can also specify a "),a("code",[t._v("clientOptions")]),t._v(" property,\nwhich will be passed into the second argument of the constructor\nfor "),a("code",[t._v("MongoClient")]),t._v(" from the "),a("a",{attrs:{href:"https://www.npmjs.com/package/mongodb",target:"_blank",rel:"noopener noreferrer"}},[t._v("mongodb"),a("OutboundLink")],1),t._v("\nNPM module (this may be necessary for supplying a username and password\nfor example).")]),a("p",[t._v("Example:")]),t._m(11),t._m(12),t._m(13),t._m(14),a("p",[t._v('The table name associated with each Model class is specified in the Model\'s\nSchema. Under this example configuration, objects of the User model will be\nstored in the local MongoDB database "auth", and all other models will\nbe stored in local JSON files.')]),t._m(15),a("p",[t._v("Generally, you should use Model classes to perform Database operations, which\nis covered in a later section. You can use the DB Service to directly\ndo stuff on the database.")]),a("p",[t._v("You can get a reference to the DB Service from the Carolina global object:")]),t._m(16),a("p",[t._v("Every data for every Model instance has three forms, also described in more\ndetail in a later section. Those forms are DB Form, Object From, and JSON\nForm. For example, a "),a("code",[t._v("DateField")]),t._v(" entry is a Javascript Date in DB Form,\na "),a("a",{attrs:{href:"https://www.npmjs.com/package/moment",target:"_blank",rel:"noopener noreferrer"}},[t._v("moment"),a("OutboundLink")],1),t._v(" object in Object Form,\nand a string timestamp in JSON Form. When dealing with the DB Service directory,\neverything is in DB Form and returned objects will be plain objects\nnot Model class instances.")]),a("p",[t._v("It is the methods of the Model class that translate\ndata between forms and instantiate instances.")]),t._m(17),t._m(18),t._m(19),t._m(20),t._m(21),t._m(22),t._m(23),t._m(24),t._m(25),t._m(26),t._m(27),t._m(28),t._m(29),t._m(30),t._m(31),t._m(32),t._m(33),t._m(34),a("p",[t._v('The Database Service creates logs using the Logger Service. All read-only\nactions are logged at SILLY level, all write actions are logged at DEBUG\nlevel, and queries for single objects that return no results are logged at\nWARN level. The "source" for all such logs is "DB".')])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"the-db-service"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#the-db-service","aria-hidden":"true"}},[this._v("#")]),this._v(" The DB Service")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v('The Database (or "DB") Service manages access to instances of Models that\nare stored in databases. It manages a set of database connections, which\nare configured in '),e("code",[this._v("config/db.js")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("JsonConnection")]),this._v(': The starting default. Stores the "database" as JSON files in the '),e("code",[this._v("data/")]),this._v(" directory. Should only be used for very small scale testing.")]),e("li",[e("code",[this._v("MongoDbConnection")]),this._v(": Connects to a MongoDB instance.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#connection-configuration"}},[t._v("Connection Configuration")]),a("ul",[a("li",[a("a",{attrs:{href:"#mutiple-connections"}},[t._v("Mutiple Connections")])])])]),a("li",[a("a",{attrs:{href:"#database-operations"}},[t._v("Database Operations")]),a("ul",[a("li",[a("a",{attrs:{href:"#listing-records"}},[t._v("Listing Records")])]),a("li",[a("a",{attrs:{href:"#getting-a-record-by-id"}},[t._v("Getting a Record by Id")])]),a("li",[a("a",{attrs:{href:"#updating-records"}},[t._v("Updating Records")])]),a("li",[a("a",{attrs:{href:"#creating-a-record"}},[t._v("Creating a Record")])]),a("li",[a("a",{attrs:{href:"#deleting-records"}},[t._v("Deleting Records")])])])]),a("li",[a("a",{attrs:{href:"#database-logs"}},[t._v("Database Logs")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"connection-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#connection-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Connection Configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Database connections are configured in the "),e("code",[this._v("connections")]),this._v(" property\nof "),e("code",[this._v("config/db.js")]),this._v('. It is an object mapping connection names to their\nconfigurations. You can have as many connections as needed, but one called\n"default" must exist.')])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[e("code",[this._v("JsonConnection")]),this._v(" Configuration")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To configure an instance of "),e("code",[this._v("JsonConnection")]),this._v(", you must supply a path\nto a directory. The path will be interpreted with the current working directory\nset to your project root and should point to a directory.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'default'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'JsonConnection'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./data/main/'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("With this configuration, files like "),e("code",[this._v("user.json")]),this._v(" and "),e("code",[this._v("log_entry.json")]),this._v(" will be\ncreated in "),e("code",[this._v("data/main/")]),this._v(" to be the database.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[e("code",[this._v("MongoDbConnection")]),this._v(" Configuration")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'default'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MongoDbConnection'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  dbName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'main'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"mutiple-connections"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mutiple-connections","aria-hidden":"true"}},[this._v("#")]),this._v(" Mutiple Connections")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v('You can have more than one DB Connection, but normally the "default" one is\nused for everything. You can specify that certain tables belong to certain\nconnections in the '),e("code",[this._v("connectionMap")]),this._v(" property of "),e("code",[this._v("config/db.js")]),this._v('. For example,\nyou could define a "userdb" connection in '),e("code",[this._v("connections")]),this._v(", and reference it\nfor Users:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  connections"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'default'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'JsonConnection'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./data/main/"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'userdb'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      driver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MongoDbConnection'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// default host and port")]),t._v("\n      dbName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'auth'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \n  connectionMap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'userdb'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"database-operations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#database-operations","aria-hidden":"true"}},[this._v("#")]),this._v(" Database Operations")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" DBSvc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Carolina"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DB'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"danger custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),e("p",[this._v("You will need to be careful when inserting or updating records in tables\nthat are bound to Models. Schemas are not enforced when dealing with the\nDB Service directly.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"listing-records"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#listing-records","aria-hidden":"true"}},[this._v("#")]),this._v(" Listing Records")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can get a list of all records in a table using the\n"),e("code",[this._v("async _all(tableName)")]),this._v(" method. Be careful about doing this against large\ntables.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" allUsers "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" DBSvc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("_all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("TIP")]),e("p",[this._v("More precise queries and pagination are covered in later sections of this\ndocumentation.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"getting-a-record-by-id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getting-a-record-by-id","aria-hidden":"true"}},[this._v("#")]),this._v(" Getting a Record by Id")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Each Connection type has a way of working with IDs. Every object in a\ntable has an ID. You can look up a specific object based on ID using the\n"),e("code",[this._v("async _lookup(tableName, id)")]),this._v(" method:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// some id")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" specificUser "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" DBSvc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("_lookup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"updating-records"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#updating-records","aria-hidden":"true"}},[this._v("#")]),this._v(" Updating Records")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can update any records that match a certain query using the\n"),e("code",[this._v("async _update(tableName, query, update)")]),this._v(" method:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// make user100 an admin user and set emailVerified to true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" DBSvc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("_update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user100'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  emailVerified"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  isAdmin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"creating-a-record"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-record","aria-hidden":"true"}},[this._v("#")]),this._v(" Creating a Record")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can create a record in a table using the "),e("code",[this._v("async _create(tableName, object)")]),this._v("\nmethod. It will return the ID of the newly created object.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" newUserId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" DBSvc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("_create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user100'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  emailAddress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user100@example.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  isAdmin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"deleting-records"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deleting-records","aria-hidden":"true"}},[this._v("#")]),this._v(" Deleting Records")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can delete any objects that match a query using the\n"),e("code",[this._v("async _delete(tableName, query)")]),this._v(" method:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// delete all non-admin users")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" deletedCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" DBSvc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("_delete")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" isAdmin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"database-logs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#database-logs","aria-hidden":"true"}},[this._v("#")]),this._v(" Database Logs")])}],!1,null,null,null);e.default=n.exports}}]);